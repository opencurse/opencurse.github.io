<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-CORE | Neural Defense Wall</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --p-blue: #3b82f6; --p-cyan: #22d3ee; }
        body {
            font-family: 'Space Grotesk', sans-serif;
            background: #000;
            color: #fff;
            overflow: hidden;
            cursor: crosshair;
        }
        canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        .cyber-glass {
            background: rgba(8, 10, 15, 0.8);
            backdrop-filter: blur(30px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8), inset 0 0 20px rgba(59, 130, 246, 0.05);
        }
        .scan-anim {
            background: linear-gradient(to bottom, transparent 0%, var(--p-blue) 50%, transparent 100%);
            height: 100px;
            width: 100%;
            position: absolute;
            opacity: 0.2;
            animation: moveScan 3s linear infinite;
        }
        @keyframes moveScan { 0% { top: -100px; } 100% { top: 100%; } }
        .pixel-grid {
            background-image: radial-gradient(rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 30px 30px;
        }
        .status-dot { animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .shimmer-text {
            background: linear-gradient(90deg, #fff, #4b5563, #fff);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 3s linear infinite;
        }
        @keyframes shine { to { background-position: 200% center; } }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 pixel-grid">

    <canvas id="neuralCanvas"></canvas>

    <div id="portal" class="w-full max-w-xl relative">
        <div class="absolute -top-12 left-0 right-0 flex justify-between px-4 text-[10px] font-mono tracking-[0.4em] text-blue-500/60 uppercase">
            <span>Terminal: X-882</span>
            <span>Uptime: 99.9%</span>
            <span>Encryption: AES-512</span>
        </div>

        <div id="success" class="hidden text-center space-y-10 py-20">
            <div class="relative inline-block">
                <div class="absolute inset-0 bg-cyan-500 blur-[100px] opacity-30"></div>
                <div class="w-32 h-32 rounded-3xl bg-cyan-500/10 border border-cyan-500/30 flex items-center justify-center rotate-45 scale-110">
                    <i data-lucide="unlock" class="w-16 h-16 text-cyan-400 -rotate-45"></i>
                </div>
            </div>
            <div class="space-y-4">
                <h2 class="text-5xl font-bold tracking-tighter shimmer-text uppercase">Firewall Bypassed</h2>
                <p class="text-gray-400 font-light tracking-widest uppercase text-xs">Access Level: Administrator Granted</p>
            </div>
        </div>

        <div id="card" class="cyber-glass rounded-[40px] p-12 transition-all duration-700">
            
            <div class="flex items-center gap-4 mb-12">
                <div class="flex-1 space-y-2">
                    <div class="flex justify-between text-[10px] font-bold text-gray-500 tracking-widest uppercase">
                        <span id="stepTitle">Biometric Init</span>
                        <span id="percentage">33%</span>
                    </div>
                    <div class="h-1.5 w-full bg-white/5 rounded-full overflow-hidden">
                        <div id="pBar" class="h-full bg-gradient-to-r from-blue-600 to-cyan-400 w-1/3 transition-all duration-1000"></div>
                    </div>
                </div>
                <div class="w-12 h-12 rounded-full border border-white/10 flex items-center justify-center">
                    <i data-lucide="cpu" class="w-5 h-5 text-blue-500 animate-spin-slow"></i>
                </div>
            </div>

            <div id="stepContainer" class="min-h-[350px] flex flex-col justify-center">
                <div id="step1" class="space-y-8 animate-in">
                    <div class="space-y-2">
                        <h3 class="text-3xl font-medium tracking-tight">Audio Fingerprint</h3>
                        <p class="text-gray-500">Decrypt the phrase: <span class="text-blue-400 underline decoration-dotted">"Protocol Sigma 72"</span></p>
                    </div>
                    <div class="p-8 border border-white/5 rounded-[30px] bg-white/[0.02] flex items-center justify-center relative overflow-hidden group">
                        <div class="absolute inset-0 bg-blue-500/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                        <button onclick="handleStep(1)" class="relative z-10 flex flex-col items-center gap-4">
                            <div class="w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center shadow-[0_0_30px_rgba(59,130,246,0.5)]">
                                <i data-lucide="mic-2" class="w-8 h-8"></i>
                            </div>
                            <span class="text-[10px] font-bold tracking-widest text-blue-400">RECORDING...</span>
                        </button>
                    </div>
                </div>

                <div id="step2" class="hidden space-y-8">
                    <div class="space-y-2 text-center">
                        <h3 class="text-3xl font-medium">Neural Scan</h3>
                        <p class="text-gray-500">Matching face-mesh with global satellite data</p>
                    </div>
                    <div class="relative w-full aspect-video rounded-[30px] overflow-hidden border border-white/10">
                        <div class="scan-anim"></div>
                        <video id="webcam" autoplay playsinline class="w-full h-full object-cover"></video>
                        <div class="absolute bottom-4 left-4 flex gap-2">
                            <div class="px-3 py-1 bg-black/60 rounded-full text-[10px] flex items-center gap-2">
                                <span class="w-2 h-2 bg-red-500 rounded-full status-dot"></span> LIVE FEED
                            </div>
                        </div>
                    </div>
                    <button onclick="handleStep(2)" class="w-full py-5 bg-white text-black font-bold rounded-2xl tracking-widest uppercase text-xs hover:bg-cyan-400 transition-all">Verify Bio-ID</button>
                </div>

                <div id="step3" class="hidden space-y-8">
                    <div class="space-y-2">
                        <h3 class="text-3xl font-medium">Quantum Gate</h3>
                        <p class="text-gray-500">Select the anomaly in the data stream</p>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="handleStep(3)" class="p-10 border border-white/10 rounded-3xl hover:border-cyan-500/50 hover:bg-cyan-500/5 transition-all group">
                            <i data-lucide="box" class="w-10 h-10 mx-auto text-gray-600 group-hover:text-cyan-400"></i>
                            <div class="mt-4 text-[10px] text-gray-600 uppercase">Packet A-9</div>
                        </button>
                        <button onclick="handleStep(3)" class="p-10 border border-white/10 rounded-3xl hover:border-cyan-500/50 hover:bg-cyan-500/5 transition-all group">
                            <i data-lucide="triangle" class="w-10 h-10 mx-auto text-gray-600 group-hover:text-cyan-400"></i>
                            <div class="mt-4 text-[10px] text-gray-600 uppercase">Packet B-2</div>
                        </button>
                    </div>
                </div>
            </div>

            <div class="mt-12 flex justify-between items-center opacity-30 text-[9px] font-mono tracking-widest uppercase">
                <div class="flex gap-4">
                    <span>IP: 192.168.0.1</span>
                    <span>Lat: 28.61</span>
                </div>
                <div>X-CORE SYSTEMS Â© 2026</div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // --- BACKGROUND CANVAS PARTICLES ---
        const canvas = document.getElementById('neuralCanvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 0.5;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x > canvas.width) this.x = 0;
                if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0;
                if (this.y < 0) this.y = canvas.height;
            }
            draw() {
                ctx.fillStyle = 'rgba(59, 130, 246, 0.4)';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function init() {
            for (let i = 0; i < 100; i++) particles.push(new Particle());
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            requestAnimationFrame(animate);
        }
        init(); animate();

        // --- CORE LOGIC ---
        let current = 1;

        async function handleStep(s) {
            const btn = event.currentTarget;
            btn.style.pointerEvents = 'none';
            btn.style.opacity = '0.5';

            // Start Camera for Step 2
            if (s === 1) {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    document.getElementById('webcam').srcObject = stream;
                } catch (e) { console.log("Camera access denied"); }
            }

            // Simulate "Neural Processing"
            setTimeout(() => {
                if (current < 3) {
                    transition(current, current + 1);
                    current++;
                    updateUI();
                } else {
                    finalAuth();
                }
            }, 1500);
        }

        function transition(from, to) {
            const f = document.getElementById(`step${from}`);
            const t = document.getElementById(`step${to}`);
            
            f.style.opacity = '0';
            f.style.transform = 'translateY(-20px) scale(0.95)';
            
            setTimeout(() => {
                f.classList.add('hidden');
                t.classList.remove('hidden');
                setTimeout(() => {
                    t.style.opacity = '1';
                    t.style.transform = 'translateY(0) scale(1)';
                    lucide.createIcons();
                }, 50);
            }, 500);
        }

        function updateUI() {
            const titles = ["Audio Fingerprint", "Neural Face Scan", "Quantum Gate"];
            document.getElementById('stepTitle').innerText = titles[current-1];
            document.getElementById('pBar').style.width = (current * 33.3) + "%";
            document.getElementById('percentage').innerText = Math.round(current * 33.3) + "%";
        }

        function finalAuth() {
            const card = document.getElementById('card');
            const success = document.getElementById('success');
            card.style.transform = 'scale(0.8) translateY(100px)';
            card.style.opacity = '0';
            
            // Stop Camera
            const stream = document.getElementById('webcam').srcObject;
            if (stream) stream.getTracks().forEach(t => t.stop());

            setTimeout(() => {
                card.classList.add('hidden');
                success.classList.remove('hidden');
                lucide.createIcons();
            }, 700);
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
